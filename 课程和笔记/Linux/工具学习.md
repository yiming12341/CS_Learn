# 工具学习

## Vim

### 四种模式

VIM 常用的有四个模式：

- 正常模式 (Normal-mode)
- 插入模式 (Insert-mode)
- 命令模式 (Command-mode)
- 可视模式 (Visual-mode)

我们在使用 VIM 操作文本的时候，编辑区底部一般都会显示当前处于什么模式下（插入模式会有 INSERT 提示，可视模式会有 VISUAL 或者 VISUAL LINE 的提示）。

#### 正常模式

正常模式**一般用于浏览文件，也包括一些复制、粘贴、删除等操作**。这时击键时，一些组合键就是 vim 的功能键，而不会在文本中键入对应的字符。在这个模式下，我们可以通过键盘在文本中快速移动光标，启动 VIM 后默认位于正常模式。不论是什么模式，按一下 `<Esc> `键都会回到正常模式。**命令模式或者可视模式下执行完操作以后，就会自动进入正常模式**

#### 插入模式

该模式启动以后，就会进入编辑状态，通过键盘输入内容。在正常模式下，通过按下`i,I,o,O,a,A,r,R`等任意一个字母之后就会跳转到编辑模式。

#### 命令模式

在**正常模式**中，按下`：`（冒号）键或者`/` （斜杠），会进入命令模式。在命令模式中可以执行一些输入并执行一些 VIM 或插件提供的指令，就像在shell里一样。这些指令包括设置环境、文件操作、调用某个功能等等。

```bash
:wq		保存退出
:q 		退出
:q!		强制退出，不保存
```

在命令行下（也可以用/进入命令行），然后输入关键字，回车就可以查找单词，输入n就可以查找下一个。想继续查找下一个就使用/就可以更新，方便继续查找。

#### 可视化模式 

在**正常模式**按下`v, V, <Ctrl>+v`，可以进入可视模式。可视模式中的操作有点像拿鼠标进行操作，选择文本的时候有一种鼠标选择的即视感，有时候会很方便。

### 文件操作

### 打开

使用命令`vim file1,file2,file3....`即可打开多个文件。这种打开的话，只有一个窗口是打开的，默认是第一个文件，如果需要切换的话，首先切换到命令模式，然后`ls`就可以显示文件名和序号，使用命令`bnum`其中num为文件序号就可以切换到相应的文件。

**切屏打开文件**

左右分屏如下操作：

```bash
vim -On file1 file2 ... filen
```

这里的 n （ n 是要打开的具体文件的数目：1,2,3 ...）是代表有几个文件需要分屏，从左至右依次显示 n 个文件。

上下分屏如下操作：

```bash
vim -on file1 file2 ... filen
```

这个命令跟上一个命令不同的是其中的参数 -on（ n 是要打开的具体文件的数目：1,2,3 ...） 中的 o 是小写，这样将会上下依次显示 n 个文件。

### 常用快捷键

```bash
yy 		拷贝当前行，nyy为拷贝当前的n行，使用p就可以粘贴
dd		删除当前行，ndd删除当前向下的n行
set nu  设置文件的行号（命令行下）
set nonu取消设置行号
gg		最首行
G		最末行
u		撤销
跳转到某一行：先输入行号，然后
```



## tumx

`tmux`是一个多路终端复用器，这里主要有四个概念：server，session,window,pane.这是包含的关系。

使用`tmux`命令就能开启`server`，然后在server中能创建多个`session`会话，每个会话又能创建多个窗口，每个窗口又能分割为多个面板。

在使用之中，我们更常用的是窗口和面板部分的功能。具体来说，当你创建了一个会话之后，就会创建了一个窗口，这个窗口就是面对的这个终端，然后你可以使用`<ctrl b>+c`创建其他窗口，并进行切换。一个窗口就是目前所有的整个屏幕的内容，如果我们想要对屏幕进行分割，就需要创建面板来对窗口进行分割。

具体内容如下，多终端`tmux`的使用：

- 会话部分（session）:

  - `<C-b> x`格式意味着首先按下`ctrl-b`然后释放，在按下`x`
  - 新建会话：`tmux`创建一个无名字的会话`tmux  new  -s name`创建一个有名字的会话
  - 断开当前会话：`tmux detach`断开后会话在后台运行，因此还可以继续使用快捷键`<C-b>d`
  - 进入之前的对话：
    - 进入指定名字：`tmux a -t session-name`
    - 默认进入第一个：`tmux a`
  - 关闭当前会话：
    - `tmux kill-session -t session-name`关闭指定会话名的会话
    - 关闭所有会话`tmux kill-server`
  - 查看会话：
    - `tmux ls`或`tmux list-session`查看所有会话
    - 如果刚好处于会话中，使用`Ctrl+b` + `s`，此时tmux将打开一个会话列表，按上下键(⬆︎⬇︎)或者鼠标滚轮，可选中目标会话，按左右键（⬅︎➜）可收起或展开会话的窗口，选中目标会话或窗口后，按回车键即可完成切换

- 窗口部分（Window）

  - 在视觉上是统一会话的不同部分

  - |   前缀   | 指令  |                      描述                      |
    | :------: | :---: | :--------------------------------------------: |
    | `Ctrl+b` |  `c`  |                  **新建窗口**                  |
    | `Ctrl+b` |  `&`  | **关闭当前窗口（关闭前需输入`y` or `n`确认）** |
    | `Ctrl+b` | `0~9` |                 切换到指定窗口                 |
    | `Ctrl+b` |  `p`  |                 切换到上一窗口                 |
    | `Ctrl+b` |  `n`  |                 切换到下一窗口                 |
    | `Ctrl+b` |  `w`  |        **打开窗口列表，用于且切换窗口**        |
    | `Ctrl+b` |  `,`  |                 重命名当前窗口                 |
    | `Ctrl+b` |  `.`  |     修改当前窗口编号（适用于窗口重新排序）     |
    | `Ctrl+b` |  `f`  |    快速定位到窗口（输入关键字匹配窗口名称）    |

- 面板（Pane）

  - 与vim分割类似，可以由多个shell

  - |   前缀   |   指令   |                           描述                           |
    | :------: | :------: | :------------------------------------------------------: |
    | `Ctrl+b` |   `"`    |          **当前面板上下一分为二，下侧新建面板**          |
    | `Ctrl+b` |   `%`    |          **当前面板左右一分为二，右侧新建面板**          |
    | `Ctrl+b` |   `x`    |      **关闭当前面板（关闭前需输入`y` or `n`确认）**      |
    | `Ctrl+b` |   `z`    | 最大化当前面板，再重复一次按键后恢复正常（v1.8版本新增） |
    | `Ctrl+b` |   `;`    |                 切换到最后一次使用的面板                 |
    | `Ctrl+b` | `方向键` |                     移动光标切换面板                     |

**常用的流程：**

- 创建会话：`tmux new -s name`
- 进入会话之后，就默认会创建一个窗口了，一般而言一个窗口也足够了
  - 如果有需要的话，创建其他窗口`<ctrl b> c`
  - 显示窗口信息：`<ctrl b> w`
  - 关闭窗口：`<ctrl b> &`
  - 切换窗口：`<ctrl b> 数字`
- 然后就是创建不同的面板
  - `<ctrl b> "`:
  - `<ctrl b> %`:
  - `<ctrl b> x`:关闭面板
